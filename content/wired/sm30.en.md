---
title: "Space Mission 30"
sidebar:
  exclude: true
---

![image](/images/layouts/sm30_layers_0.png)

![image](/images/layouts/sm30_layers_1.png)

**Space Mission 30** is a mechanical gaming keypad built for maximum comfort and flawless wins.

## Keypad hardware
![image](/images/sm30/sm30_bottom.png)
1. BOOT button
2. RESET button
3. Silicone feet
4. Service cutout/window for disassembling the keypad case

![image](/images/sm30/sm30_top.png)

5. USB‑C port
6. Display
7. Slot for installing an MX switch or a hot-swap encoder

## Connection
- The Space Mission 30 keypad works with devices running Windows, macOS, Linux, Android, and iOS.
- The keypad connects via Plug and Play (PnP); no additional driver installation is required.
- When connecting to a device, make sure the USB‑C cable is firmly inserted into the keypad’s port.

## Keypad setup

### Layer setup (layouts) in Vial
Layers let you change the keypad’s functionality depending on which layer is currently active.

{{% details title="Assigning keys to switch layers" closed="true" %}}
1. **Install and open [Vial](https://ru.ergohaven.xyz/vial) or use the [web version](https://vial.rocks/), then connect the keypad.**

>*You can view each available layer by clicking its number at the top of the interface. Layer 0 is your base/default layer.*

![image](/images/sm30/sm30_layer_0.gif)

2. **Choose the layer from which you will activate your new layer.**

By default you have the base Layer 0 and an additional Layer 1 (activated by holding the MO(1) key). In this example we’ll configure switching from the base Layer 0.

3. **Pick the key that will activate your layer, then in the bottom menu open the Layers tab.**

>*There are multiple ways to switch layers. Open the Layers tab in the bottom menu to see the available options.*

4. **Select the activation method and the layer number to use.**

>In this example we’ll use TG(*), which toggles a layer on if it’s off, and off if it’s on. You can learn about other layer switching methods in [our article](https://journey.ergohaven.xyz/pages/docs/vial/#layer). By default we already have 2 layers, so in this example we’ll configure Layer 3 for a new layout; therefore we’ll choose TG(3), where the number in parentheses is the layer being toggled.

![image](/images/sm30/sm30_layer_1.gif)

5. **Select the layer you want to edit and assign keys/macros to the buttons you need.**

Since we’re creating our own Layer 3, select Layer 3 at the top of the interface. First, assign a key to deactivate our layer and return to the base Layer 0: select the same button in the layout and click TG(3) again in the Layers tab.

![image](/images/sm30/sm30_layer_2.gif)

As an example, we’ll assign arrow keys to the W, A, S, D positions. On Layer 3, select each key position in the layout and click the corresponding keys in the Basic tab.

![image](/images/sm30/sm30_layer_3.gif)

>*P.S. The triangle symbol means “transparent.” That means pressing a key with a triangle will perform the same action as the layer below it. In our example, below Layer 3 is the additional Layer 2, so the triangle keys will trigger the actions defined on Layer 2.*

### Layer use examples:
- A separate layer for layouts that fit different game genres
- A separate layer for macros that help you quickly send messages in in-game chats or use combos
{{% /details %}}  

### Creating macros in Vial
Macros let you send multiple key presses by pressing a single key. They can do anything you want: type whole sentences, or repeat routine in-game actions.

{{% details title="Macro configuration for creating combos" closed="true" %}}
**Let’s create a macro that presses *A, D, S, S, J* in sequence.**

1. **Open [Vial](https://ru.ergohaven.xyz/vial) or use the [web version](https://vial.rocks/), then in the top menu go to the Macros tab.**

>In this tab you can view each available **macro** by clicking its number at the top of the interface. Up to 109 macros can be created.

![image](/images/sm30/sm30_macros_0.gif)

2. **Choose a macro number, then click *Add action* in the bottom-right corner.**

In this example we’ll create macro **M0** using the most common method: **Add action**, which manually adds an action to the list.

![image](/images/sm30/sm30_macros_1.gif)

>*You can also use **Tap Enter** (adds an Enter key press quickly) or **Record macro** (records a macro directly from the keyboard).*

3. **Select the needed action from the dropdown and assign keys for that action.**

Choose the **Tap** action (sends a single key press, or a chord), click **+**, and assign the **A** key.

![image](/images/sm30/sm30_macros_2.gif)

>*Other available actions include **Text** (type a text snippet), **Down** (press-and-hold), **Up** (release), and **Delay(ms)** (a delay between actions).*

4. **Add the next action to the macro, the same way as in the previous step.**

Click **Add action** again, choose **Tap**, click **+**, and assign the key — this time choose **D**.  
>*Actions are executed from top to bottom. Keep this in mind when building macros. If you need to reorder actions, use the up/down arrow buttons on the left side of the action you want to move.*

![image](/images/sm30/sm30_macros_3.gif)

5. **Add the remaining actions and save the result.**

Just like in step **3**, add key presses **S, S, J** to the macro.

![image](/images/sm30/sm30_macros_4.gif)

When you finish creating the macro, click **Save** in the bottom-right corner.

![image](/images/sm30/sm30_macros_5.gif)

>*Macros are saved to the keyboard’s internal memory and will also work on another PC. When saving a macro, Vial may ask you to unlock the keyboard by holding two keys in the top-left corner.*

6. **Assign the created macro key to the layout.**

In this example, assign macro **M0** to a key on Layer 3: go to the **Keymap** tab in the top menu, select Layer 3, select the desired key on the layout, then in the bottom **Macros** tab click **M0**.

![image](/images/sm30/sm30_macros_6.gif)

>*Choose any layer and key position that’s convenient for triggering the macro; see the layer section above for how to create layers.*
{{% /details %}}

{{% details title="Macro configuration for typing text" closed="true" %}}
**As an example, we’ll create a macro that opens the global chat in Counter-Strike 1.6, types *\"Hello!\"*, and sends the message.**

To follow this example, you need to understand the steps required to send a message to global chat in CS 1.6. By default, you open the global chat window with **Y**, type the message text, and press **Enter** to send it.

1. **Open [Vial](https://ru.ergohaven.xyz/vial) or use the [web version](https://vial.rocks/), then go to the Macros tab, select a macro number, and click *Add action* in the bottom-right corner.**

In this example we’ll create macro **M1** using **Add action**.

![image](/images/sm30/sm30_macros_7.gif)

2. **Add the action that opens the in-game chat.**

Choose **Tap**, click **+**, and assign the **Y** key.

![image](/images/sm30/sm30_macros_8.gif)

3. **Add a delay between opening the chat and typing the message (otherwise the text may not type correctly).**

Click **Add action** again, choose **Delay (ms)**, and set the delay to 100 ms.

![image](/images/sm30/sm30_macros_9.gif)

>*Actions are executed from top to bottom. Keep this in mind when building macros. If you need to reorder actions, use the up/down arrow buttons on the left side of the action you want to move.*

4. **Add the action that types the message text.**

Click **Add action**, choose **Text**, and enter *Hello!* in the text field on the right.

![image](/images/sm30/sm30_macros_10.gif)

5. **Add a delay between typing the message and sending it.**

Click **Add action**, choose **Delay (ms)**, and set the delay to 100 ms.

![image](/images/sm30/sm30_macros_11.gif)

>*This delay is optional in this example, but for some other tasks it’s better to use it to ensure correct macro timing.*

6. **Add the action that sends the message, then save the macro.**

Click **Add action**, choose **Tap**, click **+**, and assign **Enter**.

![image](/images/sm30/sm30_macros_12.gif)

When you finish creating the macro, click **Save** in the bottom-right corner.

![image](/images/sm30/sm30_macros_13.gif)

>*Macros are saved to the keyboard’s internal memory and will also work on another PC. When saving a macro, Vial may ask you to unlock the keyboard by holding two keys in the top-left corner.*

7. **Assign the created macro key to the layout.**

In this example, assign macro **M1** to a key on Layer 3: go to the **Keymap** tab in the top menu, select Layer 3, select the desired key on the layout, then in the bottom **Macros** tab click **M1**.

![image](/images/sm30/sm30_macros_14.gif)

>*Choose any layer and key position that’s convenient for triggering the macro; see the layer section above for how to create layers.*

More information about Macros can be found in the official [QMK documentation](https://docs.qmk.fm/feature_macros).  
{{% /details %}}  

### RGB lighting setup in Vial
In Vial, you can customize key lighting in the “Lighting” tab by changing the effect, color, brightness, and animation speed.

{{% details title="RGB setup" closed="true" %}}
![image](/images/sm30/sm30_rgb.gif)

- **RGB Effect** - choose different animations or a static color
- **RGB Color** - set the backlight color
- **RGB Brightness** - adjust backlight brightness
- **RGB Speed** - adjust animation speed

After configuring all RGB lighting parameters, click Save in the bottom-right corner of Vial to save all changes.
{{% /details %}}  

**For more details about Vial features, see the [article](/pages/docs/vial).**

## Switch replacement / hot-swap encoder installation

### Removing a switch
- **Remove the keycap:** use a switch puller or a dedicated keycap puller.
- **Remove the old switch:** use a switch puller, grip the latches at the top and bottom of the switch, and gently pull upward until it comes out of the socket.

{{< video 
    autoplay="true"
    loop="true"
    muted="true"
    src="/video/sm30/switch_out.mp4" 
>}}
<br />

### Installing a new switch
- **Install the new switch:** make sure the contacts (pins) are straight and aligned with the holes on the PCB. Gently press it in until it clicks.
- **Put the keycap back on.**

{{< video 
    autoplay="true"
    loop="true"
    muted="true"
    src="/video/sm30/switch_in.mp4" 
>}}
<br />

### Installing a hot-swap encoder
- **Install the hot-swap encoder:** make sure the encoder pins are aligned with the contact pads on the PCB (the encoder’s contacts should be on the bottom). Gently press it in until it clicks.

{{< video 
    autoplay="true"
    loop="true"
    muted="true"
    src="/video/sm30/enc_in.mp4" 
>}}
<br />

### Removing a hot-swap encoder
- **Remove the encoder knob:** pull the knob upward.
- **Remove the encoder:** use a switch puller, grip the latches at the top and bottom of the encoder, and gently pull upward until it comes out of the socket.

{{< video 
    autoplay="true"
    loop="true"
    muted="true"
    src="/video/sm30/enc_out.mp4" 
>}}
<br />

## Reflashing / firmware update
### Preparation:
- Download the latest firmware version [here](http://github.com/ergohaven/keymap_hub) <!-- TODO: replace with a specific SM30 firmware file link -->
- Save your layout in Vial: open the “File” menu, then click “Save current layout”.

### Installation
To reflash/update the keypad firmware, you need to put it into bootloader mode. You can do this in several ways (choose one):  
1. **Bootmagic:**
    - Hold the top-left key on the second row (Esc in the default layout) and connect the USB power cable.
    - Wait until the controller enters bootloader mode and a mass-storage drive opens.

2. **Using the RESET button:**
    - Connect the USB power cable and quickly press the RESET button twice on the bottom of the keypad.
    - Wait until the controller enters bootloader mode and a mass-storage drive opens.

3. **Using the BOOT button:**
    - Hold the BOOT button on the bottom of the keypad and connect the USB power cable.
    - Wait until the controller enters bootloader mode and a mass-storage drive opens.

- Copy or drag-and-drop the UF2 file; the controller should reboot immediately and start working in normal mode.
- Import your layout into Vial: open the “File” menu, then click “Load saved layout”.

